import{_ as H,r as v,o as K,c as q,a as o,b as D,w as l,d as n,e as _,f as m,g as s,F as Q,h as W,t as x}from"./index-Fhld9Onr.js";const X={class:"text-h3 font-weight-bold",style:{color:"#6B4423"}},Y={class:"mb-3"},Z={class:"text-h4 text-secondary font-weight-bold"},h={class:"text-h5"},ee={__name:"ServicosView",setup(oe){const u=v([]),p=v(!1),b=v(!1),g=v(!1),I=v(""),d=v(-1),a=v({id:null,nome:"",duracao:30,preco:0}),B={id:null,nome:"",duracao:30,preco:0},z=()=>d.value===-1?"Novo Serviço":"Editar Serviço",E=()=>{const r=localStorage.getItem("servicos");r?u.value=JSON.parse(r):(u.value=[{id:1,nome:"Corte Afro",duracao:60,preco:50},{id:2,nome:"Barba",duracao:30,preco:30},{id:3,nome:"Tranças",duracao:120,preco:120},{id:4,nome:"Dreadlocks",duracao:180,preco:200},{id:5,nome:"Relaxamento",duracao:90,preco:80},{id:6,nome:"Corte + Barba",duracao:90,preco:70}],V())},V=()=>{localStorage.setItem("servicos",JSON.stringify(u.value))},F=r=>{d.value=u.value.indexOf(r),a.value=Object.assign({},r),p.value=!0},M=r=>{d.value=u.value.indexOf(r),a.value=Object.assign({},r),b.value=!0},R=()=>{u.value.splice(d.value,1),V(),T(),k("Serviço excluído com sucesso!")},j=()=>{p.value=!1,setTimeout(()=>{a.value=Object.assign({},B),d.value=-1},300)},T=()=>{b.value=!1,setTimeout(()=>{a.value=Object.assign({},B),d.value=-1},300)},J=()=>{if(!a.value.nome||a.value.duracao<=0||a.value.preco<=0){k("Por favor, preencha todos os campos corretamente!");return}d.value>-1?(Object.assign(u.value[d.value],a.value),k("Serviço atualizado com sucesso!")):(a.value.id=Date.now(),u.value.push(Object.assign({},a.value)),k("Serviço criado com sucesso!")),V(),j()},k=r=>{I.value=r,g.value=!0};return K(()=>{E()}),(r,e)=>{const U=n("v-icon"),c=n("v-col"),f=n("v-row"),i=n("v-btn"),C=n("v-card-title"),y=n("v-card-text"),S=n("v-spacer"),w=n("v-card-actions"),O=n("v-card"),P=n("v-alert"),N=n("v-text-field"),A=n("v-container"),$=n("v-dialog"),G=n("v-snackbar");return _(),q("div",null,[o(f,{class:"mb-4"},{default:l(()=>[o(c,{cols:"12"},{default:l(()=>[m("h1",X,[o(U,{icon:"mdi-scissors-cutting",size:"large",class:"mr-2"}),e[8]||(e[8]=s(" Serviços Oferecidos ",-1))]),e[9]||(e[9]=m("p",{class:"text-subtitle-1 mt-2",style:{color:"#6B4423"}}," Gerencie os serviços disponíveis na barbearia ",-1))]),_:1})]),_:1}),o(f,{class:"mb-4"},{default:l(()=>[o(c,{cols:"12"},{default:l(()=>[o(i,{color:"secondary",size:"large","prepend-icon":"mdi-plus",onClick:e[0]||(e[0]=t=>p.value=!0)},{default:l(()=>[...e[10]||(e[10]=[s(" Novo Serviço ",-1)])]),_:1})]),_:1})]),_:1}),u.value.length>0?(_(),D(f,{key:0},{default:l(()=>[(_(!0),q(Q,null,W(u.value,t=>(_(),D(c,{key:t.id,cols:"12",sm:"6",md:"4"},{default:l(()=>[o(O,{elevation:"4",class:"servico-card",color:"surface"},{default:l(()=>[o(C,{class:"text-h5 text-primary"},{default:l(()=>[s(x(t.nome),1)]),_:2},1024),o(y,null,{default:l(()=>[m("div",Y,[o(U,{icon:"mdi-clock-outline",size:"small",class:"mr-2",color:"accent"}),e[11]||(e[11]=m("strong",null,"Duração:",-1)),s(" "+x(t.duracao)+" minutos ",1)]),m("div",Z," R$ "+x(t.preco.toFixed(2)),1)]),_:2},1024),o(w,null,{default:l(()=>[o(S),o(i,{color:"primary",variant:"text",icon:"mdi-pencil",onClick:L=>F(t)},null,8,["onClick"]),o(i,{color:"error",variant:"text",icon:"mdi-delete",onClick:L=>M(t)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(_(),D(f,{key:1},{default:l(()=>[o(c,{cols:"12"},{default:l(()=>[o(P,{type:"info",variant:"tonal",icon:"mdi-information"},{default:l(()=>[...e[12]||(e[12]=[s(' Nenhum serviço cadastrado. Clique em "Novo Serviço" para adicionar. ',-1)])]),_:1})]),_:1})]),_:1})),o($,{modelValue:p.value,"onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t),"max-width":"500px"},{default:l(()=>[o(O,null,{default:l(()=>[o(C,{class:"bg-primary text-white"},{default:l(()=>[m("span",h,x(z()),1)]),_:1}),o(y,{class:"pt-4"},{default:l(()=>[o(A,null,{default:l(()=>[o(f,null,{default:l(()=>[o(c,{cols:"12"},{default:l(()=>[o(N,{modelValue:a.value.nome,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.nome=t),label:"Nome do Serviço *","prepend-icon":"mdi-scissors-cutting",variant:"outlined",required:""},null,8,["modelValue"])]),_:1}),o(c,{cols:"12"},{default:l(()=>[o(N,{modelValue:a.value.duracao,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.duracao=t),modelModifiers:{number:!0},label:"Duração (minutos) *",type:"number","prepend-icon":"mdi-clock-outline",variant:"outlined",required:"",min:"1"},null,8,["modelValue"])]),_:1}),o(c,{cols:"12"},{default:l(()=>[o(N,{modelValue:a.value.preco,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.preco=t),modelModifiers:{number:!0},label:"Preço (R$) *",type:"number","prepend-icon":"mdi-currency-brl",variant:"outlined",required:"",min:"0",step:"0.01"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e[13]||(e[13]=m("small",null,"* Campos obrigatórios",-1))]),_:1}),o(w,null,{default:l(()=>[o(S),o(i,{color:"grey",variant:"text",onClick:j},{default:l(()=>[...e[14]||(e[14]=[s("Cancelar",-1)])]),_:1}),o(i,{color:"primary",variant:"elevated",onClick:J},{default:l(()=>[...e[15]||(e[15]=[s("Salvar",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o($,{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=t=>b.value=t),"max-width":"500px"},{default:l(()=>[o(O,null,{default:l(()=>[o(C,{class:"text-h5"},{default:l(()=>[...e[16]||(e[16]=[s("Confirmar Exclusão",-1)])]),_:1}),o(y,null,{default:l(()=>[...e[17]||(e[17]=[s(" Tem certeza que deseja excluir este serviço? ",-1)])]),_:1}),o(w,null,{default:l(()=>[o(S),o(i,{color:"grey",variant:"text",onClick:T},{default:l(()=>[...e[18]||(e[18]=[s("Cancelar",-1)])]),_:1}),o(i,{color:"error",variant:"elevated",onClick:R},{default:l(()=>[...e[19]||(e[19]=[s("Excluir",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(G,{modelValue:g.value,"onUpdate:modelValue":e[7]||(e[7]=t=>g.value=t),timeout:3e3,color:"success"},{actions:l(()=>[o(i,{color:"white",variant:"text",onClick:e[6]||(e[6]=t=>g.value=!1)},{default:l(()=>[...e[20]||(e[20]=[s("Fechar",-1)])]),_:1})]),default:l(()=>[s(x(I.value)+" ",1)]),_:1},8,["modelValue"])])}}},te=H(ee,[["__scopeId","data-v-bff7fd29"]]);export{te as default};
